
<p align="center">
  <img src="https://github.com/user-attachments/assets/027881bb-cf20-4cf8-ad0c-3d3ef68acbd5"/>
</p>
<p align="center">
  <img src="https://img.shields.io/badge/stack-Java%2BReact%2BPostgreSQL-informational" alt="stack"/>
</p>

## About

Городская платформа событий и сообществ "OpenCity".

Пользователи делятся  на "Не зарегистрированный пользователь", "User", "Moder", "Admin".<br />
Основные сущности приложения: "Event" - событие, "Community" - сообщество, "report" – жалоба.<br />
Событиям и сообществам присваивается status, основные статусы:

- Verification(0) – статус на проверке, дается событиям и сообществам(СС) которые находятся на проверке, они видны только добавившим их пользователям, модераторам и админам.<br />
- Active(1) – активные СС, видны всем.<br />
- Archive(2) – СС которые прошли, видны только модераторам и админам.<br />
- Canceled(5) – зарезервированный статус, необходим на крайний случай, для пометки, что событие отменено.
<br /><br /><br />

**Возможности "Не зарегистрированного пользователя":**
- Просматривать события и сообщества в статусе activ.
- Авторизоваться/Зарегистрироваться


<br /> **Репорты:**
каждый зарегистрированный пользователь может оставить жалобу или пожелания к СС. Админы, модераторы и пользователя, которые добавили СС на сайт могут просматривать эти репорты, чтобы внести исправления или удалить контент с портала.  

<br />**Возможности "User":**
- Просматривать события и сообщества в статусе activ.
- Через личный кабинет добавлять свои события и сообщества(в начале статус Verification, его может поменять модератор или админ).
- Изменять свои события и сообщества(после изменения СС снова идет на верификацию).
- Просматривать и удалять репорты к своим событиям и сообществам.
- Оставлять репорты к чужим событиям и сообществам.

<br />**Возможности "Moder":**
- Все описанные ранее возможности, модератор считается таким же посетителем платформы, но имеет доступ к доп окнам.
- Просматривать все события и сообщества(не зависимо от статуса), изменять их(в том числе менять статус).
- Отдельно просматривать все доступные репорты и удалять их.
Основная роль модератора просматривать события и сообщества в статусе 0 и либо составлять репорты к ним (чтобы пользователь, предложивший СС, исправил недочеты), либо исправить самому и поменять статус на 1. 
Также модератор моет просматривать все жалобы в системе и исправлять их.

<br />**Возможности "Admin":**
- Все то же самое, что и moder.
- Менять роли.
Админ может давать пользователям модерку и отнимать её. В концепте платформа модерируется самыми лояльными пользователями.

## Preview
[![Video Title](https://img.youtube.com/vi/2IBjLs5Y9i0/0.jpg)](https://www.youtube.com/watch?v=2IBjLs5Y9i0)

### Architecture
![react-spring-boot-postgresql-crud-example-rest-api-architecture](https://github.com/ITsyuryupa/Booking/assets/31932916/a81a6e0f-f876-428b-893c-33ffaf66df70)

## Documentation

### Entities
<p align="center">
  <img src="https://github.com/user-attachments/assets/b2e741d1-f8b5-4712-9e5c-951ca1d46be0"/>
</p>
<p align="center">
  Диаграмма БД
</p><br />

- **-** **`_user`** – пользователь;
- **-** **`сommunity`** – сообщество;
- **-** **`event`** – событие;
- **-** **`photo`** – фотография;
- **-** **`report`** – жалоба.
<br />
<br />
<br />
<p align="center">
  <img src="https://github.com/user-attachments/assets/f9c6e30c-1cfd-4e6d-b6f7-5f01d6231fdc"/>
</p>
<p align="center">
  Диаграмма связи сущностей
</p> <br />
Некоторые связи между сущностями обрабатываются вручную, чтобы не дублировать таблицы связь осуществляется через комплексный внешний ключ, указывается id сущности и тип.
Репорты содержит в себе тип сущности и id. Также c photo. Как такого ключа и связи нет, но в беке например при удалении события, все связанные с ним репорты тоже удаляются, похожая логика также вручную обрабатывается в других частях бекенда.
В процессе разработки из-за коротких сроков от многого функционала пришлось отказаться, поэтому некоторые части системы излишни или недоделаны.
